{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\undangan_digital_platform\\\\frontend-admin\\\\src\\\\components\\\\InvitationForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Modal, Button, Form, Row, Col, Spinner, Alert, Image } from 'react-bootstrap';\nimport axios from 'axios';\n\n// ... (Konfigurasi URL tetap sama) ...\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost/undangan_digital_platform/backend/api/';\nconst UPLOAD_URL = 'http://localhost/undangan_digital_platform/backend/uploads/';\nconst InvitationForm = ({\n  show,\n  onHide,\n  onSave,\n  invitationData\n}) => {\n  _s();\n  // ... (State initialFormState, uploading, uploadError tetap sama) ...\n  const initialFormState = {/* ... */};\n  const [formData, setFormData] = useState(initialFormState);\n  const [uploading, setUploading] = useState(false);\n  const [uploadError, setUploadError] = useState('');\n  useEffect(() => {\n    if (invitationData) {\n      // Mode Edit\n      // ====================================================================\n      // PERBAIKAN UTAMA ADA DI SINI: Menangani format tanggal yang tidak valid\n      // ====================================================================\n      const acaraData = invitationData.acara.map(item => ({\n        ...item,\n        // Jika tanggal dari DB adalah '0000-00-00', ubah menjadi string kosong\n        // agar input date tidak error.\n        tanggal: item.tanggal === '0000-00-00' ? '' : item.tanggal\n      }));\n      setFormData({\n        id: invitationData.undangan.id,\n        judul: invitationData.undangan.judul || '',\n        template_tema: invitationData.undangan.template_tema || 'classic_elegant.css',\n        mempelai: invitationData.mempelai || initialFormState.mempelai,\n        acara: acaraData.length ? acaraData : initialFormState.acara,\n        // Gunakan data acara yang sudah diperbaiki\n        amplop: invitationData.amplop.length ? invitationData.amplop : initialFormState.amplop,\n        cerita: invitationData.cerita || '',\n        media: invitationData.media || [],\n        cover_slideshow: invitationData.undangan.cover_slideshow ? JSON.parse(invitationData.undangan.cover_slideshow) : [],\n        musik_latar: invitationData.undangan.musik_latar || ''\n      });\n    } else {\n      // Mode Buat Baru\n      setFormData(initialFormState);\n    }\n  }, [invitationData, show]);\n\n  // ... (Semua fungsi lain: handleChange, addItem, removeItem, handleFileChange, handleSubmit, getImageUrl tetap sama) ...\n  const handleChange = (e, section, index, field) => {/* ... */};\n  const addItem = (section, item) => {/* ... */};\n  const removeItem = (section, index) => {/* ... */};\n  const handleFileChange = async (e, type, field = null) => {/* ... */};\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  const getImageUrl = (type, fileName) => {/* ... */};\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: onHide,\n    size: \"lg\",\n    backdrop: \"static\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(InvitationForm, \"wtuoOHLVLky92ran+EC8USRQqUs=\");\n_c = InvitationForm;\nexport default InvitationForm;\nvar _c;\n$RefreshReg$(_c, \"InvitationForm\");","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","Form","Row","Col","Spinner","Alert","Image","axios","jsxDEV","_jsxDEV","API_URL","UPLOAD_URL","InvitationForm","show","onHide","onSave","invitationData","_s","initialFormState","formData","setFormData","uploading","setUploading","uploadError","setUploadError","acaraData","acara","map","item","tanggal","id","undangan","judul","template_tema","mempelai","length","amplop","cerita","media","cover_slideshow","JSON","parse","musik_latar","handleChange","e","section","index","field","addItem","removeItem","handleFileChange","type","handleSubmit","preventDefault","getImageUrl","fileName","size","backdrop","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/undangan_digital_platform/frontend-admin/src/components/InvitationForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Modal, Button, Form, Row, Col, Spinner, Alert, Image } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\n// ... (Konfigurasi URL tetap sama) ...\r\nconst API_URL = 'http://localhost/undangan_digital_platform/backend/api/';\r\nconst UPLOAD_URL = 'http://localhost/undangan_digital_platform/backend/uploads/';\r\n\r\nconst InvitationForm = ({ show, onHide, onSave, invitationData }) => {\r\n    // ... (State initialFormState, uploading, uploadError tetap sama) ...\r\n    const initialFormState = { /* ... */ };\r\n    const [formData, setFormData] = useState(initialFormState);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [uploadError, setUploadError] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (invitationData) { // Mode Edit\r\n            // ====================================================================\r\n            // PERBAIKAN UTAMA ADA DI SINI: Menangani format tanggal yang tidak valid\r\n            // ====================================================================\r\n            const acaraData = invitationData.acara.map(item => ({\r\n                ...item,\r\n                // Jika tanggal dari DB adalah '0000-00-00', ubah menjadi string kosong\r\n                // agar input date tidak error.\r\n                tanggal: item.tanggal === '0000-00-00' ? '' : item.tanggal\r\n            }));\r\n\r\n            setFormData({\r\n                id: invitationData.undangan.id,\r\n                judul: invitationData.undangan.judul || '',\r\n                template_tema: invitationData.undangan.template_tema || 'classic_elegant.css',\r\n                mempelai: invitationData.mempelai || initialFormState.mempelai,\r\n                acara: acaraData.length ? acaraData : initialFormState.acara, // Gunakan data acara yang sudah diperbaiki\r\n                amplop: invitationData.amplop.length ? invitationData.amplop : initialFormState.amplop,\r\n                cerita: invitationData.cerita || '',\r\n                media: invitationData.media || [],\r\n                cover_slideshow: invitationData.undangan.cover_slideshow ? JSON.parse(invitationData.undangan.cover_slideshow) : [],\r\n                musik_latar: invitationData.undangan.musik_latar || ''\r\n            });\r\n        } else { // Mode Buat Baru\r\n            setFormData(initialFormState);\r\n        }\r\n    }, [invitationData, show]);\r\n\r\n    // ... (Semua fungsi lain: handleChange, addItem, removeItem, handleFileChange, handleSubmit, getImageUrl tetap sama) ...\r\n    const handleChange = (e, section, index, field) => { /* ... */ };\r\n    const addItem = (section, item) => { /* ... */ };\r\n    const removeItem = (section, index) => { /* ... */ };\r\n    const handleFileChange = async (e, type, field = null) => { /* ... */ };\r\n    const handleSubmit = (e) => { e.preventDefault(); onSave(formData); };\r\n    const getImageUrl = (type, fileName) => { /* ... */ };\r\n\r\n    return (\r\n        <Modal show={show} onHide={onHide} size=\"lg\" backdrop=\"static\">\r\n            {/* ... (Isi JSX dari Modal tetap sama seperti sebelumnya) ... */}\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default InvitationForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}